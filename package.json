// ---------------------------------------------------------------------------------
// FILE: tailwind.config.ts
// ---------------------------------------------------------------------------------
import type { Config } from "tailwindcss";
const config: Config = {
  content: [
    "./app/**/*.{ts,tsx}",
    "./components/**/*.{ts,tsx}",
  ],
  theme: {
    extend: {},
  },
  plugins: [],
};
export default config;// ---------------------------------------------------------------------------------
// FILE: .env.example  (Copy to .env.local locally, and set in Vercel Project → Settings → Env Vars)
// ---------------------------------------------------------------------------------
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=// ---------------------------------------------------------------------------------
// FILE: schema.sql  (Run in Supabase SQL editor)
// ---------------------------------------------------------------------------------
-- Auth is managed by Supabase automatically (auth.users table)

-- Transactions table (income & expenses)
create table if not exists public.transactions (
  id uuid primary key default gen_random_uuid(),
  user_id uuid not null references auth.users(id) on delete cascade,
  date date not null,
  type text not null check (type in ('income','expense')),
  category text not null,
  method text,
  note text,
  amount numeric not null check (amount >= 0),
  created_at timestamp with time zone default now()
);

-- Methods of payment reference (optional)
create table if not exists public.payment_methods (
  id bigserial primary key,
  user_id uuid not null references auth.users(id) on delete cascade,
  name text not null,
  note text,
  created_at timestamp with time zone default now(),
  unique(user_id, name)
);

-- Inventory
create table if not exists public.inventory (
  id uuid primary key default gen_random_uuid(),
  user_id uuid not null references auth.users(id) on delete cascade,
  sku text not null,
  name text not null,
  category text,
  cost numeric,
  price numeric,
  qty integer default 0,
  created_at timestamp with time zone default now()
);

-- RLS Policies
alter table public.transactions enable row level security;
alter table public.payment_methods enable row level security;
alter table public.inventory enable row level security;

create policy "own_rows_select_tx" on public.transactions for select using (auth.uid() = user_id);
create policy "own_rows_mod_tx" on public.transactions for insert with check (auth.uid() = user_id);
create policy "own_rows_update_tx" on public.transactions for update using (auth.uid() = user_id);
create policy "own_rows_delete_tx" on public.transactions for delete using (auth.uid() = user_id);

create policy "own_rows_select_pm" on public.payment_methods for select using (auth.uid() = user_id);
create policy "own_rows_mod_pm" on public.payment_methods for insert with check (auth.uid() = user_id);
create policy "own_rows_update_pm" on public.payment_methods for update using (auth.uid() = user_id);
create policy "own_rows_delete_pm" on public.payment_methods for delete using (auth.uid() = user_id);

create policy "own_rows_select_inv" on public.inventory for select using (auth.uid() = user_id);
create policy "own_rows_mod_inv" on public.inventory for insert with check (auth.uid() = user_id);
create policy "own_rows_update_inv" on public.inventory for update using (auth.uid() = user_id);
create policy "own_rows_delete_inv" on public.inventory for delete using (auth.uid() = user_id);

-- Helpful indexes
create index if not exists transactions_user_date_idx on public.transactions (user_id, date);
create index if not exists inventory_user_sku_idx on public.inventory (user_id, sku);// FILE: package.json
// ---------------------------------------------------------------------------------
{
  "name": "inkhale-app",
  "private": true,
  "version": "1.0.0",
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  },
  "dependencies": {
    "@supabase/auth-helpers-nextjs": "^0.10.7",
    "@supabase/supabase-js": "^2.45.4",
    "lucide-react": "^0.453.0",
    "next": "^14.2.4",
    "papaparse": "^5.4.1",
    "react": "^18.3.1",
    "react-dom": "^18.3.1",
    "recharts": "^2.12.0",
    "zustand": "^4.5.2"
  },
  "devDependencies": {
    "@types/node": "^20.11.17",
    "@types/react": "^18.2.66",
    "@types/react-dom": "^18.2.22",
    "autoprefixer": "^10.4.17",
    "eslint": "^8.57.0",
    "eslint-config-next": "^14.2.4",
    "postcss": "^8.4.31",
    "tailwindcss": "^3.4.4",
    "typescript": "^5.4.5"
  }
}
